<!-- Modal backdrop -->
<div
  *ngIf="isOpen"
  class="fixed inset-0 bg-gray-900 bg-opacity-30 z-50 transition-opacity"
  (click)="onClose()"
></div>

<!-- Modal dialog -->
<div
  *ngIf="isOpen"
  class="fixed inset-0 z-50 overflow-hidden flex items-center justify-center px-4 sm:px-6"
  role="dialog"
  aria-modal="true"
>
  <div
    class="bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-auto max-w-lg w-full max-h-full"
    (click)="$event.stopPropagation()"
  >
    <div class="p-5 flex space-x-4">
      <!-- Icon -->
      <div
        class="w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-gray-100 dark:bg-gray-700"
      >
        <!-- Success Icon -->
        <svg
          *ngIf="type === 'success'"
          class="w-4 h-4 shrink-0 fill-current"
          [ngClass]="iconColorClass"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"
          ></path>
        </svg>

        <!-- Danger Icon -->
        <svg
          *ngIf="type === 'danger'"
          class="w-4 h-4 shrink-0 fill-current"
          [ngClass]="iconColorClass"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"
          ></path>
        </svg>

        <!-- Info Icon -->
        <svg
          *ngIf="type === 'info'"
          class="w-4 h-4 shrink-0 fill-current"
          [ngClass]="iconColorClass"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"
          ></path>
        </svg>

        <!-- Warning Icon -->
        <svg
          *ngIf="type === 'warning'"
          class="w-4 h-4 shrink-0 fill-current"
          [ngClass]="iconColorClass"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"
          ></path>
        </svg>
      </div>

      <!-- Content -->
      <div class="flex-grow">
        <!-- Modal header -->
        <div class="mb-2">
          <div class="text-lg font-semibold text-gray-800 dark:text-gray-100">
            {{ title }}
          </div>
        </div>

        <!-- Modal content -->
        <div class="text-sm mb-10">
          <div class="space-y-2">
            <ng-content></ng-content>
          </div>
        </div>

        <!-- Modal footer -->
        <div class="flex flex-wrap justify-end space-x-2">
          <button
            *ngIf="showCancel"
            class="btn-sm border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-800 dark:text-gray-300"
            (click)="onClose()"
          >
            {{ cancelText }}
          </button>
          <button
            class="btn-sm"
            [ngClass]="confirmButtonClass"
            (click)="onConfirm()"
          >
            {{ confirmText }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

