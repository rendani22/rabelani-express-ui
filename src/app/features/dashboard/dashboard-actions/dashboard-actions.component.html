<div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 sm:mb-8 gap-4">

  <!-- Left: Title -->
  <div>
    <h1 class="text-xl sm:text-2xl md:text-3xl text-gray-800 dark:text-gray-100 font-bold">{{ title }}</h1>
  </div>

  <!-- Right: Actions -->
  <div class="flex flex-wrap sm:flex-nowrap items-center gap-2">

    <!-- Filter button -->
    <div class="relative inline-flex">
      <button
        class="btn inline-flex items-center justify-center px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm text-slate-500 dark:text-slate-400 hover:border-slate-300 dark:hover:border-slate-600"
        aria-haspopup="true"
        (click)="toggleFilterDropdown()"
        [attr.aria-expanded]="filterDropdownOpen">
        <span class="sr-only">Filter</span><wbr>
        <svg class="w-4 h-4 fill-current" viewBox="0 0 16 16">
          <path d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1ZM3 8a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1ZM7 12a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Z"></path>
        </svg>
      </button>
      <div
        *ngIf="filterDropdownOpen"
        class="origin-top-right z-10 absolute top-full left-0 right-auto md:left-auto md:right-0 min-w-56 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 pt-1.5 rounded-lg shadow-lg overflow-hidden mt-1">
        <div class="text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase pt-1.5 pb-2 px-3">Filters</div>
        <ul class="mb-4">
          <li *ngFor="let option of filterOptions; let i = index" class="py-1 px-3">
            <label class="flex items-center">
              <input
                type="checkbox"
                class="form-checkbox rounded text-violet-500 focus:ring-violet-500"
                [checked]="option.checked"
                (change)="toggleFilter(i)">
              <span class="text-sm font-medium ml-2">{{ option.label }}</span>
            </label>
          </li>
        </ul>
        <div class="py-2 px-3 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/20">
          <ul class="flex items-center justify-between">
            <li>
              <button
                class="btn-xs bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 text-slate-500 dark:text-slate-300 px-2.5 py-1 rounded"
                (click)="clearFilters()">
                Clear
              </button>
            </li>
            <li>
              <button
                class="btn-xs bg-violet-500 hover:bg-violet-600 text-white px-2.5 py-1 rounded"
                (click)="applyFilters()">
                Apply
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Datepicker placeholder -->
    <div class="relative flex-1 sm:flex-none min-w-0">
      <input
        #datepicker
        type="text"
        class="form-input pl-9 pr-4 py-2.5 w-full sm:min-w-[14rem] md:min-w-[17rem] bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-medium text-slate-500 dark:text-slate-400 hover:border-slate-300 dark:hover:border-slate-600 focus:border-violet-500 focus:ring-violet-500"
        placeholder="Select dates"
        readonly>
      <div class="absolute inset-0 right-auto flex items-center pointer-events-none">
        <svg class="w-4 h-4 fill-current text-slate-400 dark:text-slate-500 ml-3" viewBox="0 0 16 16">
          <path d="M5 4a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2H5Z"></path>
          <path d="M4 0a4 4 0 0 0-4 4v8a4 4 0 0 0 4 4h8a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4H4ZM2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Z"></path>
        </svg>
      </div>
    </div>

    <!-- Add view button -->
    <button
      class="btn inline-flex items-center justify-center px-3 py-2 bg-violet-500 hover:bg-violet-600 text-white rounded-lg shadow-sm whitespace-nowrap"
      (click)="onAddView()">
      <svg class="w-4 h-4 fill-current opacity-50 shrink-0" viewBox="0 0 16 16">
        <path d="M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"></path>
      </svg>
      <span class="ml-2 hidden xs:inline">Add View</span>
    </button>

  </div>

</div>

<!-- Click outside handler -->
<div
  *ngIf="filterDropdownOpen"
  class="fixed inset-0 z-0"
  (click)="closeFilterDropdown()">
</div>

